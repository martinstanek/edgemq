@page "/"
@using EdgeMq.Client
@using EdgeMq.Dashboard.Components
@using EdgeMq.Dashboard.Eventing
@inject IEdgeMqClient EdgeMqClient;
@inject IQueueMetricsEventingService EventingService;

<PageTitle>EdgeMQ Dashboard</PageTitle>

<MudGrid>
    <MudItem xs="6">
        <div style="margin-left: 5px; margin-bottom: 10px; margin-top: 10px; display: flex; justify-content: left" >
            <MudText>EdgeMQ @_server.Version.TrimEnd(['.', '0'])</MudText>
        </div>
    </MudItem>
    <MudItem xs="6">
        <div style="margin-bottom: 10px; margin-top: 10px; display: flex; justify-content: right" >
            <MudSwitch @bind-Value="_autoRefresh" Label="auto refresh" Color="Color.Tertiary" />
        </div>
    </MudItem>
</MudGrid>


@foreach (var queue in _server.Queues)
{
    <QueueCard Queue="@queue" />
}